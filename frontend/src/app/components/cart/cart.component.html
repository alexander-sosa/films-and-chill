<div *ngIf="valor != 0" class="row d-flex justify-content-center">
    <div class="col-6">
        <div class="resum-cart">
            <h4>Tu carrito [{{valor}}]</h4>
            <div class="lines">
                <a routerLink="/">
                    <button class="btn"><i class="fa-solid fa-cart-plus"></i></button>
                </a>
                &nbsp;&nbsp;&nbsp;
                <button class="btn"><i class="fas fa-cart-arrow-down" (click)="removeAll()"></i></button>
            </div>
        </div>

        <div class="cart-list">
            <div class="card mb-3" *ngFor='let item of items' >
                <!--div class="card" style="width: 18rem;">
                    <img class="card-img-top" src="{{item.movie.imagelink}}" alt="Card image cap" style="height:350px">
                    <div class="card-body">
                      <h5 class="card-title">Card title</h5>
                      <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                      <a href="#" class="btn btn-primary">Go somewhere</a>
                    </div>
                </div-->
                <div class="row g-0" style=" padding-left: 3%; margin-top: 2%;">
                  <div class="col-md-4" style="background-color: aliceblue;">
                    <img class="card-img-top" src="{{item.movie.imagelink}}" alt="Card image cap" style="height:300px; width: 200px;">
                  </div>
                  <div class="col-md-8">
                    <div class="card-body">
                      <h2 class="card-title">{{item.movie.title}}</h2>
                      <h4 class="card-text">Precio: {{item.movie.cost}}$</h4>
                      <div class="form-group row">
                        <label for="unit" class="col-form-label">Unidades</label>
                        <div class="col-sm-12">
                            <input style="width: 15%; text-align: start;" class="form-control" id="unit" type="number" value="1" min="1" max="{{item.movie.stock}}" [(ngModel)]="item.amount" (change)="calculatePrice()" class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default">
                        </div>
                      </div>
                      <!--label>Unidades: </label>
                      <input style="width: 15%; text-align: start;" class="form-control" type="number" value="1" min="1" max="{{item.movie.stock}}" [(ngModel)]="item.amount" (change)="calculatePrice()" class="form-control" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-default"-->
                      <button style="float: left" class="btn btn-del"><i class="fas fa-trash-alt" (click)="removeFromCart(item.movie.movieid)"></i></button>                        
                    </div>
                  </div>
                </div>
            </div>
        </div>
    </div>

    


    <div class="col-3" style="margin-left: 2%;">
        
        <div class="resumen">
            <h4>Resumen del pedido</h4>
            <div class="lines">
                <p style="float: left;">Subtotal: </p>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <p style="float: right;">{{subtotal}} Bs.</p>
            </div>

            <div class="lines-total">
                <strong>Total:</strong>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                
                <strong style="float: right;">{{total}} Bs.</strong>
            </div>
            <br>
            <div>
                <p style="text-align: center; justify-content: center;"><button class="btn btn-sold" data-bs-toggle="modal" data-bs-target="#Detalle">Comprar</button></p>
            </div>
        </div>
    </div>


    <div class="modal fade" id="Detalle" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Detalle de compra</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <form>
                <div class="mb-3" >
                    <div class="row align-items-center" style="margin-top: 0;">
                        <div class="col-auto">
                            <label for="name" class="col-form-label">Nombre:</label>
                        </div>
                        <div class="col-auto">
                            <input style="width: 500px;" type="text" class="form-control" id="name" value="{{name}}" disabled>
                        </div>
                    </div>

                    <div class="row align-items-center"  style="margin-top: 2%;">
                        <div class="col-auto">
                            <label for="nit" class="col-form-label">NIT:</label>
                        </div>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        <div class="col-auto">
                            <input type="text" class="form-control" id="nit">
                        </div>
                    </div>
                    
                    

                    <label for="list" class="col-form-label" style="margin-top: 2%;">Lista de productos:</label>
                    <table class="table table-bordered">
                        <thead>
                            <tr style="background-color: #E1A140;">
                              <th scope="col">Pelicula</th>
                              <th scope="col">Unidades</th>
                              <th scope="col">Costo Unit.</th>
                            </tr>
                        </thead>
                        <tbody style="background-color: #CBCDCB;">
                            <tr *ngFor='let i of items'>
                              <th scope="row">{{i.movie.title}}</th>
                              <td>{{i.amount}}</td>
                              <td>{{i.movie.cost}} Bs.</td>
                            </tr>
                          </tbody>
                    </table>

                    <div class="row align-items-center"  style="margin-top: 2%;">
                        <div class="col-auto">
                            <label for="total" class="col-form-label">Total:</label>
                        </div>
                        &nbsp;&nbsp;&nbsp;&nbsp;
                        <div class="col-auto">
                            <input style="width: 100px; text-align: end;" type="number" class="form-control" id="total" value="{{total}}" disabled> 
                        </div>
                        <div class="col-auto">
                            <label for="total" class="col-form-label">Bs.</label>
                        </div>
                    </div>                 
                  
                </div>

                <div class="mb-3" >
                  <label for="adress" class="col-form-label">Dirección:</label>
                  <textarea class="form-control" id="adress" style="margin-bottom: 0px;"></textarea>
                </div>
              </form>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cancelar</button>
              <button type="button" class="btn btn-pay">Pagar</button>
            </div>
          </div>
        </div>
      </div>

    
</div>
<div *ngIf="valor == 0">
    <p style="text-align: center;">
        <img src="https://raw.githubusercontent.com/alexander-sosa/films-and-chill/main/images/error.png" alt="">
        <br>¡No tienes películas en el carrito!<br>
        <br><br><button class="btn btn-dark" routerLink="/movies">Ir a la lista</button>
    </p>
</div>